
<section id="projects" class="py-24 bg-gray-100">
  <div class="max-w-7xl mx-auto px-6 fade-up">
  <h2 class="text-4xl font-bold text-primary text-center mb-16">
      Recent Residential Construction & Remodeling Projects in NYC

    </h2>
<div class="grid md:grid-cols-3 gap-8">
@for (project of projects; track $index) {

  <div 
       (click)="openProject(project)"
       class="cursor-pointer bg-white rounded-2xl shadow-lg overflow-hidden group transition hover:shadow-2xl">

    <div class="overflow-hidden">
      <img fetchpriority="low" alt=""
      [src]="project.cover"
           class="w-full h-72 object-cover group-hover:scale-110 transition duration-500" />
    </div>

    <div class="p-6">
      <h3 class="text-lg font-semibold mb-2">
        {{ project.title }}
      </h3>
      <p class="text-gray-600 text-sm">
        {{ project.description }}
      </p>
    </div>

  </div>
}

</div>
</div>
<!-- LIGHTBOX -->
 @if (selectedProject) {

<div 
     class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 lightbox-overlay">

  <div class="relative max-w-5xl w-full px-1 lightbox-content">

    <!-- Close Button -->
    <button (click)="closeProject()"
            class="absolute -top-9 right-3 text-white text-3xl hover:scale-110 transition">
      ✕
    </button>

    <!-- Main Image -->
    <img fetchpriority="low" [src]="selectedProject.images[currentImageIndex]"
         class="w-full max-h-[75vh] object-contain rounded-lg shadow-2xl transition duration-300">

    <!-- Navigation -->
     @if (currentImageIndex > 0) {
    <button 
            (click)="prevImage()"
            class="absolute left-0 top-1/2 -translate-y-1/2 text-white text-5xl px-4 hover:scale-110 transition">
      ‹
    </button>
}
      @if (currentImageIndex < selectedProject.images.length - 1) {
    <button 
            (click)="nextImage()"
            class="absolute right-0 top-1/2 -translate-y-1/2 text-white text-5xl px-4 hover:scale-110 transition">
      ›
    </button>
}
    <!-- THUMBNAILS -->
    <div class="flex justify-center gap-4 mt-6 overflow-x-auto">

      @for (img of selectedProject.images; track $index) {
      <img fetchpriority="low"
           [src]="img"
           (click)="currentImageIndex = $index"
           class="h-20 w-28 object-cover rounded-md cursor-pointer
                  border-2 transition duration-300"
           [class.border-white]="currentImageIndex === $index"
           [class.opacity-50]="currentImageIndex !== $index"
           [class.scale-105]="currentImageIndex === $index">
           }

    </div>

  </div>
</div>

 }


</section>